# AI图片工具箱 - 傻瓜式运行教程

📌 **只要跟着这6步走，3分钟就能用！**

---

## 📋 准备工作

在开始之前，请确保你已经：
- ✅ 有一台Windows电脑
- ✅ 电脑上安装了Python 3.7或更高版本
- ✅ 有网络连接
- ✅ 已经有 `ai_image_toolbox.py` 这个文件

---

## 🚀 第一步：检查Python是否已安装

1. **打开命令提示符**
   - 按键盘上的 `Win + R` 键
   - 输入 `cmd`，然后按回车

2. **检查Python版本**
   - 在黑色窗口中输入：
     ```
     python --version
     ```
   - 或者：
     ```
     python3 --version
     ```
   - 如果显示类似 `Python 3.8.10` 的版本号，说明已安装
   - 如果报错说找不到命令，需要先安装Python

---

## 📦 第二步：安装依赖库（3个命令就行）

1. **打开命令提示符**（同上）

2. **逐个输入以下命令，每个命令输完按回车**：

   ```bash
   pip install streamlit
   ```
   ⏳ 等待安装完成（可能需要1-2分钟）

   ```bash
   pip install requests
   ```
   ⏳ 等待安装完成

   ```bash
   pip install pillow
   ```
   ⏳ 等待安装完成

3. **验证安装**
   如果看到类似 `Successfully installed xxx` 的提示，说明安装成功！

---

## 🔑 第三步：获取百度AI API Key（免费！）

### 3.1 注册百度智能云账号

1. **打开百度智能云**
   - 用浏览器打开：https://cloud.baidu.com/
   - 点击右上角「登录」
   - 用百度账号登录（没有就注册一个，免费的）

### 3.2 创建应用并获取API Key

1. **进入控制台**
   - 登录后点击右上角「控制台」

2. **创建应用**
   - 在左侧菜单找到「人工智能」→「图像识别」
   - 点击「创建应用」
   - 应用名称填：`AI图片工具箱`（随便填都行）
   - 应用描述可以空着
   - 点击「立即创建」

3. **获取密钥**
   - 创建成功后，在「应用列表」里可以看到刚才创建的应用
   - 复制两个东西：
     - **API Key**（一串字符，类似：`a1b2c3d4e5f6g7h8i9j0`）
     - **Secret Key**（另一串字符）
   - 把这两串字符保存到记事本里，一会儿要用！

---

## ✏️ 第四步：配置API Key（修改代码）

1. **打开代码文件**
   - 找到 `ai_image_toolbox.py` 文件
   - 右键点击 → 选择「打开方式」→ 选择「记事本」或「VS Code」或「PyCharm」

2. **找到需要修改的位置**
   - 在文件开头，找到这两行：
     ```python
     API_KEY = "your_api_key_here"
     SECRET_KEY = "your_secret_key_here"
     ```

3. **替换为你的密钥**
   - 把刚才复制的 API Key 替换进去（注意保留引号）
   - 把刚才复制的 Secret Key 替换进去
   - 例如：
     ```python
     API_KEY = "a1b2c3d4e5f6g7h8i9j0"
     SECRET_KEY = "k1l2m3n4o5p6q7r8s9t0"
     ```

4. **保存文件**
   - 按 `Ctrl + S` 保存
   - 关闭文件

---

## ▶️ 第五步：运行程序

1. **打开命令提示符**
   - 按 `Win + R`，输入 `cmd`，回车

2. **进入文件所在的文件夹**
   - 假设你的 `ai_image_toolbox.py` 在桌面上：
     ```bash
     cd C:\Users\你的用户名\Desktop
     ```
   - 注意：把「你的用户名」换成你电脑的实际用户名
   - 如果不确定，可以在文件夹地址栏复制路径

3. **运行程序**
   - 输入以下命令并回车：
     ```bash
     streamlit run ai_image_toolbox.py
     ```

4. **打开网页**
   - 程序运行后，会自动打开浏览器
   - 如果没有自动打开，复制黑色窗口里显示的地址（类似 `http://localhost:8501`），粘贴到浏览器地址栏

---

## 🎯 第六步：开始使用！

### 功能1：AI图片分类整理

1. **准备要分类的图片**
   - 把所有要分类的图片放到一个文件夹里
   - 例如：`C:\Users\你的用户名\Desktop\我的图片`

2. **在网页上操作**
   - 在左侧选择「AI图片分类整理」
   - 在中间的输入框里输入图片文件夹路径
   - 点击「🚀 开始一键分类」按钮
   - 等待处理完成...

3. **查看结果**
   - 打开你的图片文件夹
   - 会看到新创建的分类文件夹（风景、美食、宠物等）
   - 图片已经自动移动到对应的文件夹里了！

### 功能2：AI水印/杂物标记

1. **准备要标记的图片**
   - 同样把图片放到一个文件夹里

2. **在网页上操作**
   - 在左侧选择「AI水印/杂物标记」
   - 输入图片文件夹路径
   - 点击「🚀 开始一键标记」按钮
   - 等待处理完成...

3. **查看结果**
   - 打开图片文件夹
   - 会看到一个叫「AI标记结果」的新文件夹
   - 里面有标记好的图片，文件名是「标记_原文件名」
   - 图片上有红色框框住检测到的物体，还有物体名称！

---

## ❓ 常见问题及解决方法

### Q1: 提示「'python' 不是内部或外部命令」

**原因**：Python没有安装，或者没有添加到环境变量

**解决方法**：
1. 先安装Python：去 https://www.python.org/downloads/ 下载安装
2. 安装时**一定要勾选**「Add Python to PATH」
3. 安装完成后重启命令提示符

---

### Q2: 提示「ModuleNotFoundError: No module named 'xxx'」

**原因**：对应的库没有安装成功

**解决方法**：
1. 重新运行安装命令：
   ```bash
   pip install streamlit requests pillow
   ```
2. 如果还是不行，试试：
   ```bash
   pip3 install streamlit requests pillow
   ```
3. 或者用国内镜像源（下载更快）：
   ```bash
   pip install streamlit requests pillow -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

---

### Q3: 获取访问令牌失败

**原因**：API Key 或 Secret Key 配置错误，或者网络问题

**解决方法**：
1. 检查 `ai_image_toolbox.py` 里的 API Key 和 Secret Key 是否正确
2. 确认没有多余的空格或引号
3. 检查网络连接是否正常
4. 确认百度AI账户有免费额度（新用户有免费额度）

---

### Q4: 文件夹路径无效

**原因**：路径输入错误，或者文件夹不存在

**解决方法**：
1. 确认文件夹真的存在
2. 路径分隔符用 `/` 或者 `\\`，不要用 `\`
3. 正确示例：
   - ✅ `C:/Users/张三/Desktop/我的图片`
   - ✅ `C:\\Users\\张三\\Desktop\\我的图片`
   - ❌ `C:\Users\张三\Desktop\我的图片`
4. 可以直接在文件夹地址栏复制路径，然后粘贴进去

---

### Q5: 程序运行很慢，或者卡住了

**原因**：可能是网络问题，或者图片太多太大

**解决方法**：
1. 检查网络连接
2. 先试少量图片（5-10张），确认没问题再处理大量图片
3. 如果某张图片卡住，试试把它移出文件夹
4. 等待一会儿，百度API响应有时较慢

---

### Q6: 标记后的图片没有中文，是乱码

**原因**：字体加载失败，使用了默认英文字体

**解决方法**：
1. 确认你的Windows系统有中文字体（微软雅黑、黑体等）
2. 检查 `C:/Windows/Fonts/` 文件夹里有没有 `msyh.ttc`（微软雅黑）
3. 如果没有，可以手动修改代码里的字体路径

---

### Q7: 分类结果不准确怎么办？

**原因**：AI识别不是100%准确

**解决方法**：
1. 这是正常的，AI也会犯错
2. 可以手动把分错的图片移到正确的文件夹
3. 建议重要的图片先备份再处理

---

## 💡 小技巧

1. **先备份图片**：处理重要图片前，先复制一份备份
2. **分批处理**：图片很多的话，分批处理，每次50-100张
3. **网络要好**：AI识别需要网络，确保网络稳定
4. **免费额度**：百度AI新用户有免费额度，用完可能需要付费

---

## 📞 还遇到问题？

如果按照上面的步骤还是有问题，可以：
1. 再仔细看一遍教程，确认每一步都做对了
2. 检查错误提示，看看是哪一步出了问题
3. 搜索错误信息，看看别人是怎么解决的

---

## 🎉 恭喜你！

现在你已经学会使用AI图片工具箱了！快去试试吧！

---

**记住：遇到问题不要慌，一步一步来，肯定能解决！** 💪
