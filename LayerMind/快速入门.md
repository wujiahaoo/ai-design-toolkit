# LayerMind 快速入门指南

## 📋 功能概述

LayerMind 是一款 AI 驱动的 Photoshop 图层智能管理工具，包含以下三大核心功能：

### 1️⃣ 一键智能命名
- AI 自动识别图层内容（文字、图片、形状等）
- 生成精准的中文名称（如"红色标题文字"、"复古纹理背景"）
- 自动添加分类前缀（【文字】【素材】【效果】等）

### 2️⃣ 图层自动分组
- 支持三种分组方式：
  - 按内容类型分组（文字、图片、形状、效果）
  - 按视觉层级分组（前景层、中景层、背景层）
  - 混合分组（先层级，再类型）

### 3️⃣ 图层快速检索
- 支持模糊搜索关键词（如"标题"、"水印"）
- 递归搜索图层组内的图层
- 自动高亮并选中找到的图层

---

## 🚀 快速开始

### 第一步：安装脚本

1. 复制以下三个 `.jsx` 文件到 Photoshop 的脚本目录：
   - `export_layers.jsx`
   - `rename_layers.jsx`
   - `search_layers.jsx`

2. Photoshop 脚本目录位置：
   - **Windows**: `C:\Program Files\Adobe\Adobe Photoshop [版本]\Presets\Scripts`
   - **macOS**: `/Applications/Adobe Photoshop [版本]/Presets/Scripts`

3. 重启 Photoshop

### 第二步：配置百度 AI API

1. 注册百度智能云账号：https://cloud.baidu.com/
2. 创建应用，选择"通用物体识别"服务
3. 获取 API Key 和 Secret Key
4. 打开 `mainwindow.cpp`，找到第 68-69 行，替换为你的 Key：
   ```cpp
   apiKey = "你的_API_Key";
   secretKey = "你的_Secret_Key";
   ```

### 第三步：构建 C++ 应用

1. 安装 Qt 6.4 或更高版本
2. 安装 CMake 3.16 或更高版本
3. 在项目目录下执行：
   ```bash
   mkdir build
   cd build
   cmake ..
   cmake --build . --config Release
   ```

---

## 📖 完整使用流程

### 场景 1：一键智能命名 + 自动分组

1. **在 Photoshop 中打开 PSD 文件**

2. **导出图层**
   - 菜单：`文件 > 脚本 > export_layers.jsx`
   - 脚本会在桌面创建 `PS_Layer_Export` 文件夹
   - 所有可见图层会导出为 PNG 图片

3. **AI 智能分析**
   - 运行 LayerMind 应用
   - 点击"选择图层文件夹"，选择 `PS_Layer_Export`
   - 点击"一键智能分析与命名"
   - 等待 AI 识别完成

4. **生成脚本**
   - 点击"生成 PS 重命名脚本"
   - 会在 `PS_Layer_Export` 中生成 `rename_list.csv`

5. **应用到 Photoshop**
   - 菜单：`文件 > 脚本 > rename_layers.jsx`
   - 选择分组方式（1/2/3）
   - 等待处理完成！

### 场景 2：图层快速检索

1. **在 Photoshop 中打开 PSD 文件**

2. **搜索图层**
   - 菜单：`文件 > 脚本 > search_layers.jsx`
   - 输入关键词（如"标题"）
   - 查看搜索结果
   - 选择需要查看的图层

---

## 📁 文件说明

| 文件名 | 功能 |
|--------|------|
| `export_layers.jsx` | 导出 PSD 图层为 PNG 图片 |
| `rename_layers.jsx` | 根据 CSV 重命名和分组图层 |
| `search_layers.jsx` | 快速搜索并定位图层 |
| `main.cpp` | C++ 应用入口 |
| `mainwindow.h/cpp` | 主窗口界面和逻辑 |
| `CMakeLists.txt` | CMake 构建配置 |

---

## 💡 使用技巧

1. **图层命名建议**
   - 导出前确保图层可见
   - 隐藏不需要处理的图层
   - 保持图层原始顺序

2. **API 调用注意**
   - 确保网络连接正常
   - 单次处理建议不超过 100 个图层
   - 百度 API 有免费额度限制

3. **分组策略**
   - **内容类型**：适合 UI 设计稿
   - **视觉层级**：适合插画/海报
   - **混合分组**：适合复杂设计

---

## 🆘 常见问题

**Q: 脚本在 Photoshop 中找不到？**
A: 请确保脚本文件放在正确的目录，并重启 Photoshop。

**Q: AI 识别不准确怎么办？**
A: 可以在 C++ 应用中手动编辑新图层名，然后再生成脚本。

**Q: 支持哪些 Photoshop 版本？**
A: 支持 Photoshop CC 2018 及以上版本。

---

## 📞 技术支持

如有问题，请查看 `README.md` 获取详细文档。
